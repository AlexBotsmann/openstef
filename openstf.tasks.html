

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>openstf.tasks package &mdash; Short Term Forecasting  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Short Term Forecasting
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">openstf.tasks package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.calculate_kpi">openstf.tasks.calculate_kpi module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.create_basecase_forecast">openstf.tasks.create_basecase_forecast module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.create_capacity_forecast">openstf.tasks.create_capacity_forecast module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.create_components_forecast">openstf.tasks.create_components_forecast module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.create_forecast">openstf.tasks.create_forecast module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.create_solar_forecast">openstf.tasks.create_solar_forecast module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.create_wind_forecast">openstf.tasks.create_wind_forecast module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.optimize_hyperparameters">openstf.tasks.optimize_hyperparameters module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.run_tracy">openstf.tasks.run_tracy module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.run_validation_robot">openstf.tasks.run_validation_robot module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.split_forecast_into_components">openstf.tasks.split_forecast_into_components module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.train_capacity_model">openstf.tasks.train_capacity_model module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks.train_model">openstf.tasks.train_model module</a></li>
<li><a class="reference internal" href="#module-openstf.tasks">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Short Term Forecasting</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>openstf.tasks package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/openstf.tasks.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="openstf-tasks-package">
<h1>openstf.tasks package<a class="headerlink" href="#openstf-tasks-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="openstf.tasks.utils.html">openstf.tasks.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="openstf.tasks.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstf.tasks.utils.html#module-openstf.tasks.utils.predictionjobloop">openstf.tasks.utils.predictionjobloop module</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstf.tasks.utils.html#module-openstf.tasks.utils.taskcontext">openstf.tasks.utils.taskcontext module</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstf.tasks.utils.html#module-openstf.tasks.utils.utils">openstf.tasks.utils.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="openstf.tasks.utils.html#module-openstf.tasks.utils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-openstf.tasks.calculate_kpi">
<span id="openstf-tasks-calculate-kpi-module"></span><h2>openstf.tasks.calculate_kpi module<a class="headerlink" href="#module-openstf.tasks.calculate_kpi" title="Permalink to this headline">¶</a></h2>
<p>calculate_kpi.py
This module contains the CRON job that is periodically executed to calculate key
performance indicators (KPIs) and save them to the database.
This code assumes prognoses are available from the persistent storage. If these are not
available run create_forecast.py to train all models.</p>
<dl class="simple">
<dt>The folowing tasks are caried out:</dt><dd><p>1: Calculate the KPI for a given pid. Ignore SplitEnergy
2: Create figures
3: Write KPI to database</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job.
Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python calculate_kpi.py
</pre></div>
</div>
<p>Attributes:</p>
<dl class="function">
<dt id="openstf.tasks.calculate_kpi.check_kpi_pj">
<code class="sig-prename descclassname">openstf.tasks.calculate_kpi.</code><code class="sig-name descname">check_kpi_pj</code><span class="sig-paren">(</span><em class="sig-param">pj</em>, <em class="sig-param">context</em>, <em class="sig-param">start_time</em>, <em class="sig-param">end_time</em><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.calculate_kpi.check_kpi_pj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="openstf.tasks.calculate_kpi.main">
<code class="sig-prename descclassname">openstf.tasks.calculate_kpi.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.calculate_kpi.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.create_basecase_forecast">
<span id="openstf-tasks-create-basecase-forecast-module"></span><h2>openstf.tasks.create_basecase_forecast module<a class="headerlink" href="#module-openstf.tasks.create_basecase_forecast" title="Permalink to this headline">¶</a></h2>
<p>create_basecase_forecast.py</p>
<p>This module should be executed once every day. For all prediction_jobs, it will
create a ‘basecase’ forecast which is less accurate, but (almost) always available.
For now, it uses the load a week earlier.
Missing datapoints are interpolated.</p>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job. A description of the
CRON job can be found in the /k8s/CronJobs folder.</p>
<p>Alternatively this code can be run directly by running:</p>
<blockquote>
<div><p>$ python create_basecase_forecast.py</p>
</div></blockquote>
<dl class="function">
<dt id="openstf.tasks.create_basecase_forecast.main">
<code class="sig-prename descclassname">openstf.tasks.create_basecase_forecast.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_basecase_forecast.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.create_capacity_forecast">
<span id="openstf-tasks-create-capacity-forecast-module"></span><h2>openstf.tasks.create_capacity_forecast module<a class="headerlink" href="#module-openstf.tasks.create_capacity_forecast" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="openstf.tasks.create_capacity_forecast.main">
<code class="sig-prename descclassname">openstf.tasks.create_capacity_forecast.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_capacity_forecast.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.create_components_forecast">
<span id="openstf-tasks-create-components-forecast-module"></span><h2>openstf.tasks.create_components_forecast module<a class="headerlink" href="#module-openstf.tasks.create_components_forecast" title="Permalink to this headline">¶</a></h2>
<p>create_components_forecast.py</p>
<p>This module contains the CRON job that is periodically executed to make
the components prognoses and save them in the database.</p>
<p>This code assumes trained models are available from the persistent storage.
If these are not available run model_train.py to train all models.
To provide the prognoses the following steps are carried out:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Get historic training data (TDCV, Load, Weather and APX price data)</p></li>
<li><p>Apply features</p></li>
<li><p>Load model</p></li>
<li><p>Make component prediction</p></li>
<li><p>Write prediction to the database</p></li>
<li><p>Send Teams message if something goes wrong</p></li>
</ol>
</div></blockquote>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job. A description of
the CRON job can be found in the /k8s/CronJobs folder.
Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python create_components_forecast.py
</pre></div>
</div>
<p>Attributes:</p>
<dl class="function">
<dt id="openstf.tasks.create_components_forecast.create_components_forecast_pj">
<code class="sig-prename descclassname">openstf.tasks.create_components_forecast.</code><code class="sig-name descname">create_components_forecast_pj</code><span class="sig-paren">(</span><em class="sig-param">pj</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_components_forecast.create_components_forecast_pj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="openstf.tasks.create_components_forecast.main">
<code class="sig-prename descclassname">openstf.tasks.create_components_forecast.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_components_forecast.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.create_forecast">
<span id="openstf-tasks-create-forecast-module"></span><h2>openstf.tasks.create_forecast module<a class="headerlink" href="#module-openstf.tasks.create_forecast" title="Permalink to this headline">¶</a></h2>
<p>create_forecast.py</p>
<p>This module contains the CRON job that is periodically executed to make prognoses and
save them in to the database.
This code assumes trained models are available from the persistent storage. If these
are not available run model_train.py to train all models.
To provide the prognoses the folowing steps are carried out:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Get historic training data (TDCV, Load, Weather and APX price data)</p></li>
<li><p>Apply features</p></li>
<li><p>Load model</p></li>
<li><p>Make prediction</p></li>
<li><p>Write prediction to the database</p></li>
<li><p>Send Teams message if something goes wrong</p></li>
</ol>
</div></blockquote>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job.
Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python create_forecast.py
</pre></div>
</div>
<p>Attributes:</p>
<dl class="function">
<dt id="openstf.tasks.create_forecast.main">
<code class="sig-prename descclassname">openstf.tasks.create_forecast.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_forecast.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.create_solar_forecast">
<span id="openstf-tasks-create-solar-forecast-module"></span><h2>openstf.tasks.create_solar_forecast module<a class="headerlink" href="#module-openstf.tasks.create_solar_forecast" title="Permalink to this headline">¶</a></h2>
<p>create_solar_forecast
This module contains the CRON job that is periodically executed to make
prognoses of solar features that are usefull for splitting the load in solar and
wind contributions.
.. rubric:: Example</p>
<p>This module is meant to be called directly from a CRON job. A description of
the CRON job can be found in the /k8s/CronJobs folder.
Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python create_solar_forecast
</pre></div>
</div>
<p>Attributes:</p>
<dl class="function">
<dt id="openstf.tasks.create_solar_forecast.main">
<code class="sig-prename descclassname">openstf.tasks.create_solar_forecast.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_solar_forecast.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="openstf.tasks.create_solar_forecast.make_solar_predicion_pj">
<code class="sig-prename descclassname">openstf.tasks.create_solar_forecast.</code><code class="sig-name descname">make_solar_predicion_pj</code><span class="sig-paren">(</span><em class="sig-param">pj</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_solar_forecast.make_solar_predicion_pj" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a solar prediction for a spcecific prediction job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pj</strong> – (dict) prediction job</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-openstf.tasks.create_wind_forecast">
<span id="openstf-tasks-create-wind-forecast-module"></span><h2>openstf.tasks.create_wind_forecast module<a class="headerlink" href="#module-openstf.tasks.create_wind_forecast" title="Permalink to this headline">¶</a></h2>
<p>create_wind_forecast
This module contains the CRON job that is periodically executed to make prognoses of
wind features.
These features are usefull for splitting the load in solar and wind contributions and
making prognoses.
.. rubric:: Example</p>
<p>This module is meant to be called directly from a CRON job. A description of the
CRON job can be found in the /k8s/CronJobs folder.
Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python create_wind_forecast
</pre></div>
</div>
<p>Attributes:</p>
<dl class="function">
<dt id="openstf.tasks.create_wind_forecast.main">
<code class="sig-prename descclassname">openstf.tasks.create_wind_forecast.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_wind_forecast.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="openstf.tasks.create_wind_forecast.make_wind_forcast_pj">
<code class="sig-prename descclassname">openstf.tasks.create_wind_forecast.</code><code class="sig-name descname">make_wind_forcast_pj</code><span class="sig-paren">(</span><em class="sig-param">pj</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.create_wind_forecast.make_wind_forcast_pj" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a wind prediction for a specific prediction job</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pj</strong> – (dict) prediction job</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-openstf.tasks.optimize_hyperparameters">
<span id="openstf-tasks-optimize-hyperparameters-module"></span><h2>openstf.tasks.optimize_hyperparameters module<a class="headerlink" href="#module-openstf.tasks.optimize_hyperparameters" title="Permalink to this headline">¶</a></h2>
<p>optimize_hyper_params.py</p>
<p>This module contains the CRON job that is periodically executed to optimize the
hyperparameters for the prognosis models.</p>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job. A description of
the CRON job can be found in the /k8s/CronJobs folder.
Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python optimize_hyper_params.py
</pre></div>
</div>
<dl class="function">
<dt id="openstf.tasks.optimize_hyperparameters.main">
<code class="sig-prename descclassname">openstf.tasks.optimize_hyperparameters.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.optimize_hyperparameters.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.run_tracy">
<span id="openstf-tasks-run-tracy-module"></span><h2>openstf.tasks.run_tracy module<a class="headerlink" href="#module-openstf.tasks.run_tracy" title="Permalink to this headline">¶</a></h2>
<p>run_tracy.py
Tracy checks the mysql todolist and tries her best to execute the
functions with desired inputs
This scripts works as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Checks the mysql table ‘todolist’ for jobs (which are not already in progress and</p></li>
</ol>
<blockquote>
<div><p>which are not already failed)</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>Set all newly aquired jobs to ‘in progress’</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>For each job;</dt><dd><ol class="arabic simple" start="3">
<li><p>Convert input arguments to a dict with ‘args’ and ‘kwargs’</p></li>
<li><p>Interpret the given function and arguments</p></li>
<li><p>Execute the job</p></li>
<li><p>Post result to Slack</p></li>
<li><p>Remove job from mysql table</p></li>
</ol>
</dd>
</dl>
<p>If job fails, set in progress to 2
All functions that tracy is able to execute need to be imported and defined in the
available_functions.</p>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job.</p>
<dl class="simple">
<dt>Alternatively this code can be run directly by running::</dt><dd><p>$ python run_tracy.py</p>
</dd>
</dl>
<p>Attributes:</p>
<dl class="function">
<dt id="openstf.tasks.run_tracy.get_and_evaluate_todos">
<code class="sig-prename descclassname">openstf.tasks.run_tracy.</code><code class="sig-name descname">get_and_evaluate_todos</code><span class="sig-paren">(</span><em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.run_tracy.get_and_evaluate_todos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="openstf.tasks.run_tracy.main">
<code class="sig-prename descclassname">openstf.tasks.run_tracy.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.run_tracy.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.run_validation_robot">
<span id="openstf-tasks-run-validation-robot-module"></span><h2>openstf.tasks.run_validation_robot module<a class="headerlink" href="#module-openstf.tasks.run_validation_robot" title="Permalink to this headline">¶</a></h2>
<p>run_validationrobot.py</p>
<p>This module contains the CRON job that is periodically executed to detect
non zero stationsflatliners.</p>
<dl class="simple">
<dt>To provide the detection the folowing steps are caried out:</dt><dd><ol class="arabic simple">
<li><p>Get historic training data (TDCV, Load, Weather and APX price data)</p></li>
<li><p>Set threshold</p></li>
<li><p>Detect flatliners</p></li>
<li><p>Send slack message if at least one flatliner is found</p></li>
</ol>
</dd>
</dl>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job.</p>
<p>Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python run_validationrobot.py
</pre></div>
</div>
<p>Attributes:</p>
<dl class="function">
<dt id="openstf.tasks.run_validation_robot.main">
<code class="sig-prename descclassname">openstf.tasks.run_validation_robot.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.run_validation_robot.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="openstf.tasks.run_validation_robot.validation_robot_pj">
<code class="sig-prename descclassname">openstf.tasks.run_validation_robot.</code><code class="sig-name descname">validation_robot_pj</code><span class="sig-paren">(</span><em class="sig-param">pj</em>, <em class="sig-param">context</em>, <em class="sig-param">datetime_start</em>, <em class="sig-param">datetime_end</em><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.run_validation_robot.validation_robot_pj" title="Permalink to this definition">¶</a></dt>
<dd><p>Run validation robot for specific prediction job.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pj</strong> – (dict) prediction job</p></li>
<li><p><strong>datetime_start</strong> – (datetime.datetime) start date</p></li>
<li><p><strong>datetime_end</strong> – (datetime.datetime) end date</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-openstf.tasks.split_forecast_into_components">
<span id="openstf-tasks-split-forecast-into-components-module"></span><h2>openstf.tasks.split_forecast_into_components module<a class="headerlink" href="#module-openstf.tasks.split_forecast_into_components" title="Permalink to this headline">¶</a></h2>
<p>split_forecast_into_components.py</p>
<p>This module contains the CRON job that is periodically executed to make
prognoses of solar features. These features are usefull for splitting the load
in solar and wind contributions.
This is achieved by carrying out the folowing steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Get the wind and solar reference data for the specific location of the
customer</p></li>
<li><p>Get the TDCV (Typical Domestic Consumption Values) data</p></li>
<li><p>Fit a linear combination of above time series to the historic load data to
determine the contributions of each energy source.</p></li>
<li><p>Write the resulting coeficients to the SQL database.</p></li>
</ol>
</div></blockquote>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job. A description of
the CRON job can be found in the /k8s/CronJobs folder.
Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python split_forecast_into_components.py
</pre></div>
</div>
<p>Attributes:</p>
<dl class="function">
<dt id="openstf.tasks.split_forecast_into_components.main">
<code class="sig-prename descclassname">openstf.tasks.split_forecast_into_components.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.split_forecast_into_components.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.train_capacity_model">
<span id="openstf-tasks-train-capacity-model-module"></span><h2>openstf.tasks.train_capacity_model module<a class="headerlink" href="#module-openstf.tasks.train_capacity_model" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="openstf.tasks.train_capacity_model.main">
<code class="sig-prename descclassname">openstf.tasks.train_capacity_model.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.train_capacity_model.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks.train_model">
<span id="openstf-tasks-train-model-module"></span><h2>openstf.tasks.train_model module<a class="headerlink" href="#module-openstf.tasks.train_model" title="Permalink to this headline">¶</a></h2>
<p>model_train.py</p>
<p>This module contains the CRON job that is periodically executed to retrain the
prognosis models. For this the folowing steps are caried out:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Get historic training data (TDCV, Load, Weather and APX price data)</p></li>
<li><p>Apply features</p></li>
<li><p>Train and Test the new model</p></li>
<li><p>Check if new model performs better than the old model</p></li>
<li><p>Store the model if it performs better</p></li>
<li><p>Send slack message to inform the users</p></li>
</ol>
</div></blockquote>
<p class="rubric">Example</p>
<p>This module is meant to be called directly from a CRON job. A description of
the CRON job can be found in the /k8s/CronJobs folder.
Alternatively this code can be run directly by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python model_train.py
</pre></div>
</div>
<dl class="function">
<dt id="openstf.tasks.train_model.main">
<code class="sig-prename descclassname">openstf.tasks.train_model.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#openstf.tasks.train_model.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-openstf.tasks">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-openstf.tasks" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017-2021 Alliander N.V..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>