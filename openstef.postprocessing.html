<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>openstef.postprocessing package &mdash; OpenSTEF  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="openstef.preprocessing package" href="openstef.preprocessing.html" />
    <link rel="prev" title="openstef.pipeline package" href="openstef.pipeline.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> OpenSTEF
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="user_guides.html">User guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="dazls.html">Domain Adaptation for Zero Shot Learning in Sequence (DAZLS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_modules.html">Code modules</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenSTEF</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="code_modules.html">Code modules</a></li>
          <li class="breadcrumb-item"><a href="openstef.html">openstef package</a></li>
      <li class="breadcrumb-item active">openstef.postprocessing package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/openstef.postprocessing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="openstef-postprocessing-package">
<h1>openstef.postprocessing package<a class="headerlink" href="#openstef-postprocessing-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-openstef.postprocessing.postprocessing">
<span id="openstef-postprocessing-postprocessing-module"></span><h2>openstef.postprocessing.postprocessing module<a class="headerlink" href="#module-openstef.postprocessing.postprocessing" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="openstef.postprocessing.postprocessing.add_components_base_case_forecast">
<code class="sig-prename descclassname">openstef.postprocessing.postprocessing.</code><code class="sig-name descname">add_components_base_case_forecast</code><span class="sig-paren">(</span><em class="sig-param">basecase_forecast</em><span class="sig-paren">)</span><a class="headerlink" href="#openstef.postprocessing.postprocessing.add_components_base_case_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a basecase forecast for the forecast_other component.</p>
<p>This will make a simple basecase components forecast
available and ensures that the sum of the components (other, wind and solar) is equal to the normal basecase
forecast This is important for sending GLMD messages correctly to TenneT!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>basecase_forecast</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) – pd.DataFrame with basecase forecast</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pd.DataFrame with extra “forecast_other component”</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>basecase_forecast</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="openstef.postprocessing.postprocessing.add_prediction_job_properties_to_forecast">
<code class="sig-prename descclassname">openstef.postprocessing.postprocessing.</code><code class="sig-name descname">add_prediction_job_properties_to_forecast</code><span class="sig-paren">(</span><em class="sig-param">pj</em>, <em class="sig-param">forecast</em>, <em class="sig-param">algorithm_type</em>, <em class="sig-param">forecast_type=None</em>, <em class="sig-param">forecast_quality=None</em><span class="sig-paren">)</span><a class="headerlink" href="#openstef.postprocessing.postprocessing.add_prediction_job_properties_to_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds prediciton job meta data to a forecast dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pj</strong> (<a class="reference internal" href="openstef.data_classes.html#openstef.data_classes.prediction_job.PredictionJobDataClass" title="openstef.data_classes.prediction_job.PredictionJobDataClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">PredictionJobDataClass</span></code></a>) – Prediciton job.</p></li>
<li><p><strong>forecast</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) – Forecast dataframe</p></li>
<li><p><strong>algorithm_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Type of algirithm used for making the forecast.</p></li>
<li><p><strong>forecast_type</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code>]) – Type of the forecast. Defaults to None.</p></li>
<li><p><strong>forecast_quality</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – Quality of the forecast. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dataframe with added metadata.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="openstef.postprocessing.postprocessing.calculate_wind_power">
<code class="sig-prename descclassname">openstef.postprocessing.postprocessing.</code><code class="sig-name descname">calculate_wind_power</code><span class="sig-paren">(</span><em class="sig-param">windspeed_100m</em><span class="sig-paren">)</span><a class="headerlink" href="#openstef.postprocessing.postprocessing.calculate_wind_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the generated wind power based on the wind speed.</p>
<p>Values are related through the power curve, which is
described by turbine_data. Default values are used and are normalized to 1MWp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>windspeed_100m</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) – Example: <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span> <span class="pre">(index</span> <span class="pre">=</span> <span class="pre">datetime,</span> <span class="pre">columns</span> <span class="pre">=</span> <span class="pre">[&quot;windspeed_100m&quot;])</span></code></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Example output <code class="docutils literal notranslate"><span class="pre">pd.DataFrame(index</span> <span class="pre">=</span> <span class="pre">datetime,</span> <span class="pre">columns</span> <span class="pre">=</span> <span class="pre">[&quot;windenergy&quot;])</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="openstef.postprocessing.postprocessing.normalize_and_convert_weather_data_for_splitting">
<code class="sig-prename descclassname">openstef.postprocessing.postprocessing.</code><code class="sig-name descname">normalize_and_convert_weather_data_for_splitting</code><span class="sig-paren">(</span><em class="sig-param">weather_data</em><span class="sig-paren">)</span><a class="headerlink" href="#openstef.postprocessing.postprocessing.normalize_and_convert_weather_data_for_splitting" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize and converts weather data for use in energy splitting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>weather_data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) – Weather data with “windspeed_100m” and “radiation”.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dataframe with “windpower” and “radiation” columns.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="openstef.postprocessing.postprocessing.post_process_wind_solar">
<code class="sig-prename descclassname">openstef.postprocessing.postprocessing.</code><code class="sig-name descname">post_process_wind_solar</code><span class="sig-paren">(</span><em class="sig-param">forecast</em>, <em class="sig-param">forecast_type</em><span class="sig-paren">)</span><a class="headerlink" href="#openstef.postprocessing.postprocessing.post_process_wind_solar" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that caries out postprocessing for wind and solar power generators.</p>
<blockquote>
<div><p>As these points will always produce energy, predicted energy consumption is
set to zero. This function will automatically detect the sign as this can
vary from case to case. The largest volume either positive or negative is
assumed to be the energy production and the other side the energy consumption.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forecast</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>) – Series with forecast data.</p></li>
<li><p><strong>forecast_type</strong> (<a class="reference internal" href="openstef.html#openstef.enums.ForecastType" title="openstef.enums.ForecastType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ForecastType</span></code></a>) – Specifies the type of forecast. This can be retrieved
from the prediction job as pj[‘forecast_type’]</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Post-processed forecast.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="openstef.postprocessing.postprocessing.split_forecast_in_components">
<code class="sig-prename descclassname">openstef.postprocessing.postprocessing.</code><code class="sig-name descname">split_forecast_in_components</code><span class="sig-paren">(</span><em class="sig-param">forecast</em>, <em class="sig-param">weather_data</em>, <em class="sig-param">split_coefs</em><span class="sig-paren">)</span><a class="headerlink" href="#openstef.postprocessing.postprocessing.split_forecast_in_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Make estimates of energy components based on given forecast.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forecast</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) – KTP load forecast</p></li>
<li><p><strong>weather_data</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>) – Weather data for energy splitting, at least; “windspeed_100m” and “radiation”</p></li>
<li><p><strong>split_coefs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>) – Previously determined splitting coefs for prediction job</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Forecast dataframe for each component</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-openstef.postprocessing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-openstef.postprocessing" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="openstef.pipeline.html" class="btn btn-neutral float-left" title="openstef.pipeline package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="openstef.preprocessing.html" class="btn btn-neutral float-right" title="openstef.preprocessing package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2022 Contributors to the OpenSTEF project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>